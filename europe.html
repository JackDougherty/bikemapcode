<!DOCTYPE html>
<html>
<head>
	<title>JackBikes.org Europe</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<link rel="shortcut icon" href="favicon.ico">
	<!-- load Bootstrap CSS for mobile devices -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<!-- Load Leaflet from a https CDN, not http. Look for updates at https://leafletjs.com/download.html -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
	integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
	crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
	integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
	crossorigin=""></script>
	<!-- load jQuery  -->
	<script
	src="https://code.jquery.com/jquery-3.4.0.min.js"
	integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg="
	crossorigin="anonymous"></script>
	<!-- Load Esri Leaflet -->
	<script src="https://unpkg.com/esri-leaflet@2.2.3/dist/esri-leaflet.js"
  integrity="sha512-YZ6b5bXRVwipfqul5krehD9qlbJzc6KOGXYsDjU9HHXW2gK57xmWl2gU6nAegiErAqFXhygKIsWPKbjLPXVb2g=="
  crossorigin=""></script>
	<!-- load Font-Awesome 4.7 -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- load Leaflet.locatecontrol -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.67.0/L.Control.Locate.min.css"/>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-locatecontrol/0.67.0/L.Control.Locate.min.js"></script>
	<!-- load Leaflet-plugins to read GPX and KML -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-plugins/3.2.0/layer/vector/GPX.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-plugins/3.2.0/layer/vector/KML.min.js"></script>
	<!-- Load leaflet-geocoder to search locations-->
	<!-- <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
	<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script> -->
	<!-- load compass from local directory -->
	<!-- <link rel="stylesheet" href="src/leaflet-compass.css"/>
	<script src="src/leaflet-compass.js"></script> -->
	<!-- load distance markers with geometry from local directory; see also style.css -->
	<script src="src/leaflet.geometryutil.js" type="text/javascript"></script>
	<script src="src/leaflet-distance-marker.js" type="text/javascript"></script>
	<!-- load Leaflet.SlideMenu from local directory -->
	<link rel="stylesheet" href="src/L.Control.SlideMenu.css" />
	<script src="src/L.Control.SlideMenu.js"></script>
	<!-- load custom css -->
	<link rel="stylesheet" href="style.css"/>
</head>
<body>
	<div id="map"></div>
	<script>

	// center map to match initial checkbox gatherBounds
	var map = L.map('map', {
	  center: [50.042755, 9.856300],
	  zoom: 6,
	  zoomControl: false, // add later to reposition
	  scrollWheelZoom: false
	});

	// option: add links to download GPX files
	map.attributionControl
	.setPrefix("View <a href='https://github.com/jackdougherty/bikemapcode' target='_blank'>code on GitHub</a> | Download <a href='https://spaces.hightail.com/space/IZE587BEvy' target='_blank'>Eurovelo GPX routes</a>");

	var controlLayers = L.control.layers( null, null, {
	  position: "topleft",
	  collapsed: false
	}).addTo(map);

	// L.control.locate({
	// 	locateOptions: {maxZoom: 16}, // default = 18
	// 	strings: {title: "Show my location"} // To do: resize icon to make text appear alongside
	// }).addTo(map);

	// map.addControl( new L.Control.Compass({position: "topleft"}) );

	new L.control.zoom({position: "topleft",}).addTo(map);

	L.control.scale().addTo(map);

	// insert map title at top of layer control
	$('<h6 id="mapTitle">Selected EuroVelo Routes</br>numbers = 100km = 62mi</h6>').insertBefore('div.leaflet-control-layers-base');

	// baselayer
	var Esri_WorldStreetMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {
		attribution: 'Tiles &copy; Esri'
	}).addTo(map);

	// route overlays
	var eurovelo6 = new L.GPX("routes/eurovelo6.gpx", {
		color: '#b13176',
		distanceMarkers: { showAll: 6, offset: 100000, bgcolor: 'bg-eurovelo6'} // 1 = 100km; bgcolor defined in style.css
	}).addTo(map);
	controlLayers.addOverlay(eurovelo6, 'Eurovelo 6 <i class="color-line bg-eurovelo6"></i>');

	var eurovelo15 = new L.GPX("routes/eurovelo15.gpx", {
		color: '#2F5093',
		distanceMarkers: { showAll: 6, offset: 100000, bgcolor: 'bg-eurovelo15'} // 1 = 100km; bgcolor defined in style.css
	}).addTo(map);
	controlLayers.addOverlay(eurovelo15, 'Eurovelo 15 <i class="color-line bg-eurovelo15"></i>');

	</script>
</body>
</html>
